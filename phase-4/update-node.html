<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Update your validator node | Desmos Primer Program</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/assets/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/pwa/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/pwa/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/pwa/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/pwa/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/pwa/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/pwa/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/pwa/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/pwa/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/pwa/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/pwa/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/pwa/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/pwa/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/pwa/favicon-16x16.png">
    <link rel="manifest" href="/assets/pwa/manifest.json">
    <meta name="description" content="An introduction on the Desmos world and how you can start playing with it">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Desmos Primer program">
    <meta property="og:url" content="https://primer.desmos.network/">
    <meta property="og:description" content="Complete all the Primer challenges and earn Desmos Tokens!">
    <meta property="og:image" content="https://primer.desmos.network/assets/logo.png">
    <meta roperty="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <link rel="preload" href="/assets/css/0.styles.ce78a544.css" as="style"><link rel="preload" href="/assets/js/app.6356599c.js" as="script"><link rel="preload" href="/assets/js/2.ef2378c5.js" as="script"><link rel="preload" href="/assets/js/23.18268ae2.js" as="script"><link rel="prefetch" href="/assets/js/10.1c990bd6.js"><link rel="prefetch" href="/assets/js/11.cb705e59.js"><link rel="prefetch" href="/assets/js/12.a09d9717.js"><link rel="prefetch" href="/assets/js/13.e10dd749.js"><link rel="prefetch" href="/assets/js/14.cb561014.js"><link rel="prefetch" href="/assets/js/15.67c2d0aa.js"><link rel="prefetch" href="/assets/js/16.e2577a1c.js"><link rel="prefetch" href="/assets/js/17.0c67bab0.js"><link rel="prefetch" href="/assets/js/18.3e456857.js"><link rel="prefetch" href="/assets/js/19.eaee5dcc.js"><link rel="prefetch" href="/assets/js/20.ef327cde.js"><link rel="prefetch" href="/assets/js/21.07234005.js"><link rel="prefetch" href="/assets/js/22.d8eead32.js"><link rel="prefetch" href="/assets/js/24.b17ead1c.js"><link rel="prefetch" href="/assets/js/25.fd8752e0.js"><link rel="prefetch" href="/assets/js/26.7f445ba2.js"><link rel="prefetch" href="/assets/js/27.37923ce2.js"><link rel="prefetch" href="/assets/js/28.cf13f82d.js"><link rel="prefetch" href="/assets/js/29.5c37f83e.js"><link rel="prefetch" href="/assets/js/3.c55a2804.js"><link rel="prefetch" href="/assets/js/30.ad50b96c.js"><link rel="prefetch" href="/assets/js/31.57971ff5.js"><link rel="prefetch" href="/assets/js/32.421df47e.js"><link rel="prefetch" href="/assets/js/33.52ac5ba1.js"><link rel="prefetch" href="/assets/js/34.6dbda48d.js"><link rel="prefetch" href="/assets/js/35.88834513.js"><link rel="prefetch" href="/assets/js/36.04ce6257.js"><link rel="prefetch" href="/assets/js/37.7dea0149.js"><link rel="prefetch" href="/assets/js/38.590342d0.js"><link rel="prefetch" href="/assets/js/39.682dbb6c.js"><link rel="prefetch" href="/assets/js/4.a830d5b9.js"><link rel="prefetch" href="/assets/js/40.7df1ff10.js"><link rel="prefetch" href="/assets/js/5.8d15c5ce.js"><link rel="prefetch" href="/assets/js/6.48977e26.js"><link rel="prefetch" href="/assets/js/7.ea54ab56.js"><link rel="prefetch" href="/assets/js/8.b75b83c8.js"><link rel="prefetch" href="/assets/js/9.a504d39c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ce78a544.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo.png" alt="Desmos Primer Program" class="logo"> <span class="site-name can-hide">Desmos Primer Program</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Desmos website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/desmos-labs/primer" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Desmos website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/desmos-labs/primer" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/setup/" class="sidebar-link">Setup</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Referral program</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/validators-program.html" class="sidebar-link">Validators program</a></li><li><a href="/validating-summer.html" class="sidebar-link">Validating summer</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-1/" class="sidebar-heading clickable"><span>Phase 1</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-2/" class="sidebar-heading clickable"><span>Phase 2</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-3/" class="sidebar-heading clickable"><span>Phase 3</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-4/" class="sidebar-heading clickable router-link-active open"><span>Phase 4</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/phase-4/register-reaction.html" class="sidebar-link">Register a reaction</a></li><li><a href="/phase-4/create-account.html" class="sidebar-link">Create an account</a></li><li><a href="/phase-4/update-node.html" aria-current="page" class="active sidebar-link">Update your validator node</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-5/" class="sidebar-heading clickable"><span>Phase 5</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/phase-6/" class="sidebar-heading clickable"><span>Phase 6</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="https://scoreboard.desmos.network" target="_blank" rel="noopener noreferrer" class="sidebar-link">Scoreboard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="update-your-validator-node"><a href="#update-your-validator-node" class="header-anchor">#</a> Update your validator node</h1> <div class="custom-block tip"><p class="custom-block-title">Rewards</p> <p>Upon completing this challenge, you will be rewarded <strong>50 Desmos Tokens</strong>.</p> <p>Additionally, you will also earn more tokens the longer you keep the node running. To know more about this please reference the <a href="/validators-program.html">Validators program</a>.</p> <p>Please note that we exported the <code>morpheus-3000</code> state at height <code>845,600</code>.</p> <p>However, to allow all validators to have a chance of earning all the tokens by completing this challenge, we will <strong>start counting the precommits from the first block generated after 1st May 2020 00:00 UTC</strong>.</p></div> <p>When a new version of Desmos is released, all validators need to update their node so that it can keep running properly. Following you will find the guide on how you can do this making sure everything is ready for when the new chain starts.</p> <ol><li><p>Stop the running service:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Update the Desmos binaries:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/desmos
<span class="token function">git</span> fetch -a 
<span class="token function">git</span> checkout tags/v0.4.0
<span class="token function">make</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Delete the current <code>genesis.json</code> file and download the new one:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> ~/.desmosd/config/genesis.json
<span class="token function">curl</span> https://raw.githubusercontent.com/desmos-labs/morpheus/master/genesis.json <span class="token operator">&gt;</span> ~/.desmosd/config/genesis.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>Verify the validity of the generated <code>genesis.json</code> file by running the following commands:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>jq -S -c -M <span class="token string">''</span> ~/.desmosd/config/genesis.json <span class="token operator">|</span> shasum -a <span class="token number">256</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The output should be</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dc6bcadf360f037450066bfad89bc54c467810240ac93a317bf5f26cab80079f  -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Reset your node to make sure everything is ready:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>desmosd unsafe-reset-all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Open up the <code>config.toml</code> file:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">nano</span> <span class="token environment constant">$HOME</span>/.desmosd/config/config.toml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Locate the <code>persistent_peers =</code> text at line 164 and change the <strong>whole line</strong> to be:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>persistent_peers = &quot;7fed5624ca577eb0333d3631b5e4f16ba1736979@54.180.98.75:26656,e30d9bb713d17d1e4380b2e2a6df4b5c76c73eb1@34.212.106.82:26656&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Start your new node:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <p>Now you should be able to see your node properly syncing with the other ones by executing:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>journalctl -n100 -f -u desmosd.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="getting-the-reward"><a href="#getting-the-reward" class="header-anchor">#</a> Getting the reward</h2> <p>After you have updated your node, please follow the steps below to claim your reward:</p> <ol><li><p>Create a fork of this repo inside your private GitHub profile.<br>
If you do not know how to do it, follow the <a href="https://help.github.com/en/github/getting-started-with-github/fork-a-repo" target="_blank" rel="noopener noreferrer">GitHub fork guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p>Pull the fork locally:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/<span class="token operator">&lt;</span>your-name<span class="token operator">&gt;</span>/primer.git ~/desmos-primer
<span class="token builtin class-name">cd</span> ~/desmos-primer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>Make sure your fork is up to date with the Primer repository:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> upstream https://github.com/desmos-labs/primer.git
<span class="token function">git</span> fetch upstream
<span class="token function">git</span> rebase upstream/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>Create a file named after your GitHub username containing the public key of your validator:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span>desmoscli keys show <span class="token operator">&lt;</span>your_key<span class="token operator">&gt;</span> --bech<span class="token operator">=</span>val --address<span class="token variable">)</span></span> <span class="token operator">&gt;&gt;</span> ./phase-4/submissions/updates/<span class="token operator">&lt;</span>your-github-name<span class="token operator">&gt;</span>

<span class="token comment"># Example</span>
<span class="token comment"># echo $(desmoscli keys show validator_key --bech=val --address) &gt;&gt; ./phase-4/submissions/updates/RiccardoM</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Commit the changes, push them to your forked repo and create a pull request. If you do not know how to create one, refer to the <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request" target="_blank" rel="noopener noreferrer">GitHub Pull Requests guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/10/2021, 7:06:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/phase-4/create-account.html" class="prev">
        Create an account
      </a></span> <span class="next"><a href="/phase-5/hashtag-post.html">
        Create a post with an hashtag
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6356599c.js" defer></script><script src="/assets/js/2.ef2378c5.js" defer></script><script src="/assets/js/23.18268ae2.js" defer></script>
  </body>
</html>
